---
title: 'R exercise 1: Know Your Data'
author: "Kelsey Gonzalez and Laura Werthmann"
date: "September 15, 2019"
due date: "September 18, 2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)


```


Load the data 
```{r}
load("LifeExpectancyData.Rdata")



head(data)

```
 


# Central Tendency Measures: mean, median, and mode
### mean
Overall mean life expectancy 
```{r}
mean(data$`Life expectancy`, na.rm=TRUE)
```
Mean life expectancy by year
```{r}
aggregate(data$`Life expectancy`, list(data$Year), mean, na.rm=TRUE)

```

Mean life expectancy overtime by country
```{r}
aggregate(data$`Life expectancy`, list(data$Country), mean, na.rm=TRUE)

```

Mean life expectancy by country status
```{r}
aggregate(data$`Life expectancy`, list(data$Status), mean, na.rm=TRUE)

```


### median
```{r}
# installed.packages("DMwR2")
library(DMwR2)
centralValue(data$`Life expectancy`)

```


### mode
```{r}

# installed.packages("modes")
library("modes")
modes(data$`Life expectancy`, type=1, digits="NULL", nmore="NULL")

```



# statistics of spread

### variance
```{r}
var(data$`Life expectancy`, na.rm=TRUE)
```

### standard deviation
```{r}
sd(data$`Life expectancy`, na.rm=TRUE)

```
  
### inter-quartile range
```{r}
range(data$`Life expectancy`, na.rm=TRUE)
max(data$`Life expectancy`, na.rm=TRUE)
min(data$`Life expectancy`, na.rm=TRUE)
IQR(data$`Life expectancy`, na.rm=TRUE)
```

```{r}
quantile(data$`Life expectancy`, na.rm=TRUE)
quantile(data$`Life expectancy`, probs=c(0.2, 0.8), na.rm=TRUE)
quantile(data$`Life expectancy`, probs = c(1/3, 2/3), na.rm = TRUE)
```

# obtain summaries on subset of data


```{r}
# install.packages("Hmisc")
suppressPackageStartupMessages(library(Hmisc))
describe(data)

```

```{r}
suppressPackageStartupMessages(library(dplyr))
group_by(data, Country, Status) %>% summarise(nObs=n(), mA7=median(`Life expectancy`))

```

# data visualization: plotting in R

```{r}
suppressPackageStartupMessages(library(ggplot2))
ggplot(data=data,
       mapping = aes(x = data$`Life expectancy`, 
                     y = data$'Year')) +
geom_jitter()+
  xlab ('Life expectancy')
  ylab ('Year')
```



```{r}
ggplot(data = data,
       mapping = aes(data$`Life expectancy`)) +
  geom_histogram(binwidth = 5)

```


```{r}
ggplot(data = data,
       mapping = aes(group=data$Status,
                     x=data$`Life expectancy`,
                     y=data$Year)) +
  geom_boxplot() +
  xlab ('Life Expectancy')
  ylab ('Year')
```

```{r}
# ggplot(data = data,
#        aes(group=data$Status,
#            x=data$`Life expectancy`,
#            y=data$Year)) +
#   geom_boxplot() + facet_grid(data$GDP~data$Status)
```

  
```{r}
ggplot(data = data,
       aes(x=data$`Life expectancy`, y=data$GDP)) +
  geom_point() + ggtitle("Relationship btwn Life Expectancy and GDP")
  

```


```{r}
plot(data$`Life expectancy`, data$Population, main="Relationship btwn Life Expectancy and Population")

```

```{r}
ggplot(data = data,
       aes(x=data$`Life expectancy`,
           y=data$`percentage expenditure`)) +
  geom_point()+ggtitle("Relationship btwn LE and Percentage Expenditure") +facet_grid(.~data$Status)
```

```{r}
ggplot(data = data,
       mapping = aes(x = data$Status,
                     y = data$`Life expectancy`)) +
  geom_point() +
  facet_wrap(~ data$Year)
```


```{r}
boxplot(formula = data$`Life expectancy` ~ data$Year, data = data)

```


```{r}
data$Over65 <- data$`Life expectancy` > 65

```

```{r}
# data$category <- "med"
# data$category [data$`Life expectancy`< LifeExpectancy_low] <- "Low"
# data$category [data$`Life expectancy`< LifeExpectancy_high] <- "High"

```

```{r}
# LifeExpectancy_low <-quantile(data$`Life expectancy`, probs = c(1/3, 2/3), na.rm = TRUE)[1]
# LifeExpectancy_high <-quantile(data$`Life expectancy`, probs = c(1/3, 2/3), na.rm = TRUE)[2]
```

#Know Your Data Exercise 1
Review of World Health Organization's Life Expectancy Data taken from [Kaggle](https://www.kaggle.com/kumarajarshi/life-expectancy-who).

##Required Questions

1. What attributes are there in your data set?

+ Some attributes we found were based on Country economics-> GDP, Status, Total Expenditure, and Population demographics-> BMI, mortality, disease, and schooling.

2. Do you have highly correlated attributes? How did you find out about the correlations or lack of correlations?

+We found that High GDP correlates to higher Life Expectancy Rates. The same goes for higher percentage of expenditure. 

We found this through the graphs: 
```{r ggplot=plot, echo=FALSE}
suppressPackageStartupMessages(library(ggplot2))
ggplot(data=LifeExpectancy,
       mapping = aes(x=LifeExpectancy$`Life expectancy`,
                     y=LifeExpectancy$GDP)) +
  geom_point() + ggtitle("Relationship btwn Life Expectancy and GDP")
  
```

```{r ggplot=plot, echo=FALSE}
ggplot(data = LifeExpectancy,
       aes(x=LifeExpectancy$`Life expectancy`,
           y=LifeExpectancy$`percentage expenditure`)) +
  geom_point()+ggtitle("Relationship btwn LE and Percentage Expenditure") +facet_grid(.~LifeExpectancy$Status)
```

and the status of the country (Developing/Developed) shows that more developed states have a higher mean of Life Expectancy.
```{r}
aggregate(LifeExpectancy$`Life expectancy`, list(LifeExpectancy$Status), mean, na.rm=TRUE)

```

3. Do you have numerical attributes that you might want to discretize? Try at least two methods and compare the differences.

+ Life Expectancy can be discretized, 

#### Binary classification of Life Expectancy rates over 65
```{r}
LifeExpectancy$Over65 <- LifeExpectancy$`Life expectancy` > 65

```
#### Categorical classification of low, med, and high of Life Expectancy rates using 1/3 quartiles
```{r}
LifeExpectancy$category <- "med"
LifeExpectancy$category [LifeExpectancy$`Life expectancy`< LifeExpectancy_low] <- "Low"
LifeExpectancy$category [LifeExpectancy$`Life expectancy`< LifeExpectancy_high] <- "High"

```

```{r}
LifeExpectancy_low <-quantile(data$`Life expectancy`, probs = c(1/3, 2/3), na.rm = TRUE)[1]
LifeExpectancy_high <-quantile(data$`Life expectancy`, probs = c(1/3, 2/3), na.rm = TRUE)[2]
```


4.If you have categorical attributes, use the concept hierarchy generation heuristics (based on attribute value counts) suggested in the textbook to produce some concept hierarchies. How well is this approach work for your attributes?

+ 
